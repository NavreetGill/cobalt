<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cobalt / Starboard Module Reference: microphone.h</title>

            <!-- Webfont -->
    
    <link href='http://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    


    <!-- Material Design Lite -->
    <link href="/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    <!-- Bootstrap -->
    <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/assets/material-design-lite/material.min.js"></script>

    <!-- Include the common site javascript -->
    <script src="/js/common.js" type="text/javascript" charset="utf-8"></script>


    <!-- metadata -->
    <meta name="og:title" content="Cobalt / Starboard Module Reference: microphone.h"/>
    <meta name="og:image" content="/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
    <link rel="shortcut icon" type="image/png" href="/favicon.ico">
  </head>
  <body class="docs" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>



    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">
        <img class="logo" src="/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
        
  
    
  
  
    
      <li><a href="/starboard/porting.html">Porters</a></li>
    
  

  
    
  
  
    
      <li><a href="/development/setup-linux.html">Developers</a></li>
    
  

  
    
  
  
    
      <li><a href="/contributors/index.html">Contributors</a></li>
    
  

  
    
  
  
    
      
        <li><a href="https://cobalt.googlesource.com/cobalt">Code Repo</a></li>
      
    
  


      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu no-top-margin"><a href="/overview.html">Overview</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Porters</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/starboard/porting.html">Port Cobalt to your platform</a></li>
              
            
              
        <li><a href="/starboard/testing.html">Testing with NPLB</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/reference/starboard/configuration-public.html">configuration_public.h</a></li>
              
            
              
        <li><a href="/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
              
            
              
                <li><b>Starboard modules</b>
                
          <ul>
                  
                    
                      <li><a href="/reference/starboard/modules/atomic.html">atomic.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/blitter.html">blitter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/character.html">character.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/configuration.html">configuration.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/decode_target.html">decode_target.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/directory.html">directory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/double.html">double.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/drm.html">drm.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/event.html">event.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/export.html">export.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/file.html">file.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/image.html">image.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/input.html">input.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/key.html">key.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/log.html">log.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/media.html">media.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory.html">memory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory_reporter.html">memory_reporter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/microphone.html">microphone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/mutex.html">mutex.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/once.html">once.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/player.html">player.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/queue.html">queue.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket.html">socket.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_synthesis.html">speech_synthesis.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/storage.html">storage.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/string.html">string.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/system.html">system.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread.html">thread.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time.html">time.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/types.html">types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/user.html">user.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/window.html">window.h</a></li>
                    
                  
          </ul>
                
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Developers</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/development/setup-linux.html">Setup - Linux</a></li>
              
            
              
        <li><a href="/development/setup-raspi.html">Setup - RasPi</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/development/reference/supported-features.html">Cobalt support</a></li>
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/contributors/index.html">Contributors</a></h4>
      
    
</li>
  



        
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>


    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Starboard Module Reference: microphone.h</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu no-top-margin"><a href="/overview.html">Overview</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Porters</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/starboard/porting.html">Port Cobalt to your platform</a></li>
              
            
              
        <li><a href="/starboard/testing.html">Testing with NPLB</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/reference/starboard/configuration-public.html">configuration_public.h</a></li>
              
            
              
        <li><a href="/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
              
            
              
                <li><b>Starboard modules</b>
                
          <ul>
                  
                    
                      <li><a href="/reference/starboard/modules/atomic.html">atomic.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/blitter.html">blitter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/character.html">character.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/configuration.html">configuration.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/decode_target.html">decode_target.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/directory.html">directory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/double.html">double.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/drm.html">drm.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/event.html">event.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/export.html">export.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/file.html">file.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/image.html">image.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/input.html">input.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/key.html">key.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/log.html">log.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/media.html">media.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory.html">memory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory_reporter.html">memory_reporter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/microphone.html">microphone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/mutex.html">mutex.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/once.html">once.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/player.html">player.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/queue.html">queue.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket.html">socket.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_synthesis.html">speech_synthesis.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/storage.html">storage.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/string.html">string.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/system.html">system.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread.html">thread.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time.html">time.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/types.html">types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/user.html">user.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/window.html">window.h</a></li>
                    
                  
          </ul>
                
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Developers</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/development/setup-linux.html">Setup - Linux</a></li>
              
            
              
        <li><a href="/development/setup-raspi.html">Setup - RasPi</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/development/reference/supported-features.html">Cobalt support</a></li>
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/contributors/index.html">Contributors</a></h4>
      
    
</li>
  



      </ul>
    </div>
    <div class="col-md-3 " id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>Defines functions for microphone creation, control, audio data fetching,
and destruction. This module supports multiple calls to |SbMicrophoneOpen|
and |SbMicrophoneClose|, and the implementation should handle multiple calls
to one of those functions on the same microphone. For example, your
implementation should handle cases where |SbMicrophoneOpen| is called twice
on the same microphone without a call to |SbMicrophoneClose| in between.<br>
This API is not thread-safe and must be called from a single thread.<br>
How to use this API:
<ol><li>Call |SbMicrophoneGetAvailableInfos| to get a list of available microphone
information.
</li><li>Create a supported microphone, using |SbMicrophoneCreate|, with enough
buffer size and sample rate. Use |SbMicrophoneIsSampleRateSupported| to
verify the sample rate.
</li><li>Use |SbMicrophoneOpen| to open the microphone port and start recording
audio data.
</li><li>Periodically read out the data from microphone with |SbMicrophoneRead|.
</li><li>Call |SbMicrophoneClose| to close the microphone port and stop recording
audio data.
</li><li>Destroy the microphone with |SbMicrophoneDestroy|.</li></ol></p>

<h2 id="enums">Enums</h2>

<h3 id="sbmicrophonetype">SbMicrophoneType</h3>

<p>All possible microphone types.</p>

<p><strong>Values</strong></p>

<ul>
<li>  <code class="prettyprint">kSbMicrophoneCamera</code> - Built-in microphone in camera.</li>
<li>  <code class="prettyprint">kSbMicrophoneUSBHeadset</code> - Microphone in the headset that can be a wired or wireless USB headset.</li>
<li>  <code class="prettyprint">kSbMicrophoneVRHeadset</code> - Microphone in the VR headset.</li>
<li>  <code class="prettyprint">kSBMicrophoneAnalogHeadset</code> - Microphone in the analog headset.</li>
<li>  <code class="prettyprint">kSbMicrophoneUnknown</code> - Unknown microphone type. The microphone could be different than the otherenum descriptions or could fall under one of those descriptions.</li>
</ul>

<h2 id="structs">Structs</h2>

<h3 id="sbmicrophoneid">SbMicrophoneId</h3>

<p>An opaque handle to an implementation-private structure that represents a
microphone ID.</p>

<h3 id="sbmicrophoneinfo">SbMicrophoneInfo</h3>

<p>Microphone information.</p>

<p><strong>Members</strong></p>

<table class="responsive">
  <tr><th colspan="2">Members</th></tr>
  <tr>
    <td><code>SbMicrophoneId</code><br>        <code>id</code></td>    <td>Microphone id.</td>  </tr>
  <tr>
    <td><code>SbMicrophoneType</code><br>        <code>type</code></td>    <td>Microphone type.</td>  </tr>
  <tr>
    <td><code>int</code><br>        <code>max_sample_rate_hz</code></td>    <td>The microphone's maximum supported sampling rate.</td>  </tr>
  <tr>
    <td><code>int</code><br>        <code>min_read_size</code></td>    <td>The minimum read size required for each read from microphone.</td>  </tr>
</table>

<h3 id="sbmicrophone">SbMicrophone</h3>

<p>An opaque handle to an implementation-private structure that represents a
microphone.</p>

<h2 id="functions">Functions</h2>

<h3 id="sbmicrophoneclose">SbMicrophoneClose</h3>

<p><strong>Description</strong></p>

<p>Closes the microphone port, stops recording audio on <code class="prettyprint">microphone</code>, and
clears the unread buffer if it is not empty. If the microphone has already
been stopped, this call is ignored. The return value indicates whether the
microphone is closed.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbMicrophoneClose-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbMicrophoneClose-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbMicrophoneClose-declaration">
<pre>
SB_EXPORT bool SbMicrophoneClose(SbMicrophone microphone);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbMicrophoneClose-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/microphone.h&quot;

#if SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)

bool SbMicrophoneClose(SbMicrophone microphone) {
  return false;
}

#endif  // SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophone</code><br>        <code>microphone</code></td>
    <td>The microphone to close.</td>
  </tr>
</table>

<h3 id="sbmicrophonecreate">SbMicrophoneCreate</h3>

<p><strong>Description</strong></p>

<p>Creates a microphone with the specified ID, audio sample rate, and cached
audio buffer size. Starboard only requires support for creating one
microphone at a time, and implementations may return an error if a second
microphone is created before the first is destroyed.<br>
The function returns the newly created SbMicrophone object. However, if you
try to create a microphone that has already been initialized, if the sample
rate is unavailable, or if the buffer size is invalid, the function should
return <code class="prettyprint">kSbMicrophoneInvalid</code>.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbMicrophoneCreate-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbMicrophoneCreate-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbMicrophoneCreate-declaration">
<pre>
SB_EXPORT SbMicrophone SbMicrophoneCreate(SbMicrophoneId id,
                                          int sample_rate_in_hz,
                                          int buffer_size_bytes);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbMicrophoneCreate-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/microphone.h&quot;

#if SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)

SbMicrophone SbMicrophoneCreate(SbMicrophoneId id,
                                int sample_rate_in_hz,
                                int buffer_size) {
  return kSbMicrophoneInvalid;
}

#endif  // SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophoneId</code><br>        <code>id</code></td>
    <td>The ID that will be assigned to the newly created SbMicrophone.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>sample_rate_in_hz</code></td>
    <td>The new microphone's audio sample rate in Hz.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>buffer_size_bytes</code></td>
    <td>The size of the buffer where signed 16-bit integer
audio data is temporarily cached to during the capturing. The audio data
is removed from the audio buffer if it has been read, and new audio data
can be read from this buffer in smaller chunks than this size. This
parameter must be set to a value greater than zero and the ideal size is
<code>2^n</code>.</td>
  </tr>
</table>

<h3 id="sbmicrophonedestroy">SbMicrophoneDestroy</h3>

<p><strong>Description</strong></p>

<p>Destroys a microphone. If the microphone is in started state, it is first
stopped and then destroyed. Any data that has been recorded and not read
is thrown away.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbMicrophoneDestroy-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbMicrophoneDestroy-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbMicrophoneDestroy-declaration">
<pre>
SB_EXPORT void SbMicrophoneDestroy(SbMicrophone microphone);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbMicrophoneDestroy-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/microphone.h&quot;

#if SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)

void SbMicrophoneDestroy(SbMicrophone microphone) {}

#endif  // SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophone</code><br>
        <code>microphone</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbmicrophonegetavailable">SbMicrophoneGetAvailable</h3>

<p><strong>Description</strong></p>

<p>Retrieves all currently available microphone information and stores it in
<code class="prettyprint">out_info_array</code>. The return value is the number of the available
microphones. If the number of available microphones is larger than
<code class="prettyprint">info_array_size</code>, then <code class="prettyprint">out_info_array</code> is filled up with as many available
microphones as possible and the actual number of available microphones is
returned. A negative return value indicates that an internal error occurred.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbMicrophoneGetAvailable-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbMicrophoneGetAvailable-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbMicrophoneGetAvailable-declaration">
<pre>
SB_EXPORT int SbMicrophoneGetAvailable(SbMicrophoneInfo* out_info_array,
                                       int info_array_size);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbMicrophoneGetAvailable-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/microphone.h&quot;

#if SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)

int SbMicrophoneGetAvailable(SbMicrophoneInfo* out_info_array,
                             int info_array_size) {
  return 0;
}

#endif  // SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophoneInfo*</code><br>        <code>out_info_array</code></td>
    <td>All currently available information about the microphone
is placed into this output parameter.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>info_array_size</code></td>
    <td>The size of <code>out_info_array</code>.</td>
  </tr>
</table>

<h3 id="sbmicrophoneidisvalid">SbMicrophoneIdIsValid</h3>

<p><strong>Description</strong></p>

<p>Indicates whether the given microphone ID is valid.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE bool SbMicrophoneIdIsValid(SbMicrophoneId id) {
  return id != kSbMicrophoneIdInvalid;
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophoneId</code><br>
        <code>id</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbmicrophoneissampleratesupported">SbMicrophoneIsSampleRateSupported</h3>

<p><strong>Description</strong></p>

<p>Indicates whether the microphone supports the sample rate.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbMicrophoneIsSampleRateSupported-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbMicrophoneIsSampleRateSupported-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbMicrophoneIsSampleRateSupported-declaration">
<pre>
SB_EXPORT bool SbMicrophoneIsSampleRateSupported(SbMicrophoneId id,
                                                 int sample_rate_in_hz);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbMicrophoneIsSampleRateSupported-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/microphone.h&quot;

#if SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)

bool SbMicrophoneIsSampleRateSupported(SbMicrophoneId id,
                                       int sample_rate_in_hz) {
  return false;
}

#endif  // SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophoneId</code><br>
        <code>id</code></td>
    <td> </td>
  </tr>
  <tr>
    <td><code>int</code><br>
        <code>sample_rate_in_hz</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbmicrophoneisvalid">SbMicrophoneIsValid</h3>

<p><strong>Description</strong></p>

<p>Indicates whether the given microphone is valid.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE bool SbMicrophoneIsValid(SbMicrophone microphone) {
  return microphone != kSbMicrophoneInvalid;
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophone</code><br>
        <code>microphone</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbmicrophoneopen">SbMicrophoneOpen</h3>

<p><strong>Description</strong></p>

<p>Opens the microphone port and starts recording audio on <code class="prettyprint">microphone</code>.<br>
Once started, the client needs to periodically call <code class="prettyprint">SbMicrophoneRead</code> to
receive the audio data. If the microphone has already been started, this call
clears the unread buffer. The return value indicates whether the microphone
is open.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbMicrophoneOpen-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbMicrophoneOpen-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbMicrophoneOpen-declaration">
<pre>
SB_EXPORT bool SbMicrophoneOpen(SbMicrophone microphone);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbMicrophoneOpen-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/microphone.h&quot;

#if SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)

bool SbMicrophoneOpen(SbMicrophone microphone) {
  return false;
}

#endif  // SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophone</code><br>        <code>microphone</code></td>
    <td>The microphone that will be opened and will start recording
audio.</td>
  </tr>
</table>

<h3 id="sbmicrophoneread">SbMicrophoneRead</h3>

<p><strong>Description</strong></p>

<p>Retrieves the recorded audio data from the microphone and writes that data
to <code class="prettyprint">out_audio_data</code>.<br>
The return value is zero or the positive number of bytes that were read.
Neither the return value nor <code class="prettyprint">audio_data_size</code> exceeds the buffer size.
A negative return value indicates that an error occurred.<br>
This function should be called frequently. Otherwise, the microphone only
buffers <code class="prettyprint">buffer_size</code> bytes as configured in <code class="prettyprint">SbMicrophoneCreate</code> and the
new audio data is thrown out. No audio data is read from a stopped
microphone.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbMicrophoneRead-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbMicrophoneRead-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbMicrophoneRead-declaration">
<pre>
SB_EXPORT int SbMicrophoneRead(SbMicrophone microphone,
                               void* out_audio_data,
                               int audio_data_size);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbMicrophoneRead-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/microphone.h&quot;

#if SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)

int SbMicrophoneRead(SbMicrophone microphone,
                     void* out_audio_data,
                     int audio_data_size) {
  return -1;
}

#endif  // SB_HAS(MICROPHONE) &amp;&amp; SB_VERSION(2)
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbMicrophone</code><br>        <code>microphone</code></td>
    <td>The microphone from which to retrieve recorded audio data.</td>
  </tr>
  <tr>
    <td><code>void*</code><br>        <code>out_audio_data</code></td>
    <td>The buffer to which the retrieved data will be written.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>audio_data_size</code></td>
    <td>The number of requested bytes. If <code>audio_data_size</code> is
smaller than <code>min_read_size</code> of <code>SbMicrophoneInfo</code>, the extra audio data
that has already been read from the device is discarded.</td>
  </tr>
</table>

        
          
        
      </div>
    </div>
  </div>

</div>


    
      <footer>
<div class="container">
    <div class="row">
      
        <div class="col-md-5 column-left">
          
          
            
              
  
    <span class="copyright-text">© Google 2016</span>
  


            
            
            
            
            
            
          
        </div>
      
        <div class="col-md-2 column-middle">
          
          
            
            
            
            
              
  <img class="footer-logo" src="/images/cobalt-logo.png" alt="Cobalt"/>


            
            
            
          
        </div>
      
        <div class="col-md-5 column-right">
          
          
            
            
            
            
            
            
              &nbsp;
            
          
        </div>
      
    </div>
</div>
</footer>

    

    
  </body>
</html>
